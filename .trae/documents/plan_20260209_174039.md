# Legacy to Modern WPF Migration & Fix Plan

### \[보고서] UI-데이터 매핑 및 조작 계통 분석 지침

#### 1. UI 필드별 연결 변수 (Data Binding Map)

UI 상의 각 요소가 백엔드의 어떤 데이터와 동기화되는지 기술합니다.

* **캐릭터 정보(Character Info):**
  * `UI 필드`: 텍스트 박스, 콤보박스
  * **연결 변수**: `CharacterWrapper` 내의 속성들 (`Name`, `Rank`, `Attribute` 등)
  * **연결 방식**: **Two-Way Binding** (UI 수정 시 `ViewModel` 내 속성 즉시 변경)
* **음식 설정(Food Fields):**
  * `UI 필드`: `ComboBox` (Favorite/Hated Food)
  * **연결 변수**: `FavoriteFoodHash`, `HatedFoodHash`
  * **참조 데이터**: `FoodList` (Icon, Name, Hash 값을 포함한 ObservableCollection)

#### 2. 데이터 조작 및 제어 로직 (Data Manipulation)

사용자 입력에 따라 어떤 변수가 수정되고, 어떤 함수가 실행되는지 정의합니다.

* **데이터 선택 (Selection):**
  * `조작 항목`: 리스트 아이템 클릭
  * **실행 로직**: `SelectedCharacter` 변수 갱신 → `OnPropertyChanged` 발생 → 우측 상세 패널의 데이터 컨텍스트가 해당 객체로 교체됨.
* **값 수정 (Edit):**
  * `조작 항목`: 음식 변경 또는 스탯 수정
  * **실행 로직**: `Wrapper` 클래스의 Setter가 호출되며 내부 `Model` 객체의 바이너리 해시값이나 바이트 값을 직접 수정.

#### 3. 입출력 및 영속성 제어 (I/O Control)

데이터가 최종적으로 파일에 반영되는 경로를 명시합니다.

* **저장 프로세스:**
  * `명령어`: Save 버튼 실행
  * **조작 대상**: `SaveCharaparamAndEvolution()` 호출
  * **작업 내용**: 현재 메모리에 로드된 `ViewModel`의 수정값들을 원본 게임 파일(YW2/YW3 등) 구조에 맞춰 직렬화(Overwrite).

<br />

